{
	"id": "365e245a-6586-4ea0-9b04-a4ef4dae2aa0",
	"prevId": "8bf0abed-a68c-4353-b7f6-0e99817d44fe",
	"version": "7",
	"dialect": "postgresql",
	"tables": {
		"public.split_audit_log": {
			"name": "split_audit_log",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"split_id": {
					"name": "split_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"user_id": {
					"name": "user_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": false
				},
				"action": {
					"name": "action",
					"type": "varchar(64)",
					"primaryKey": false,
					"notNull": true
				},
				"entity_type": {
					"name": "entity_type",
					"type": "varchar(32)",
					"primaryKey": false,
					"notNull": true
				},
				"entity_id": {
					"name": "entity_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": false
				},
				"old_data": {
					"name": "old_data",
					"type": "jsonb",
					"primaryKey": false,
					"notNull": false
				},
				"new_data": {
					"name": "new_data",
					"type": "jsonb",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_split_audit_log_split_id": {
					"name": "idx_split_audit_log_split_id",
					"columns": [
						{
							"expression": "split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_audit_log_user_id": {
					"name": "idx_split_audit_log_user_id",
					"columns": [
						{
							"expression": "user_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_audit_log_split_time": {
					"name": "idx_split_audit_log_split_time",
					"columns": [
						{
							"expression": "split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "created_at",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_audit_log_created_at": {
					"name": "idx_split_audit_log_created_at",
					"columns": [
						{
							"expression": "created_at",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_audit_log_cleanup": {
					"name": "idx_split_audit_log_cleanup",
					"columns": [
						{
							"expression": "created_at",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"fk_split_audit_log_split_id": {
					"name": "fk_split_audit_log_split_id",
					"tableFrom": "split_audit_log",
					"tableTo": "splits",
					"columnsFrom": ["split_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				},
				"fk_split_audit_log_user_id": {
					"name": "fk_split_audit_log_user_id",
					"tableFrom": "split_audit_log",
					"tableTo": "users",
					"columnsFrom": ["user_id"],
					"columnsTo": ["id"],
					"onDelete": "set null",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.split_item_participants": {
			"name": "split_item_participants",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"participant_id": {
					"name": "participant_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"item_id": {
					"name": "item_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"note": {
					"name": "note",
					"type": "varchar(2048)",
					"primaryKey": false,
					"notNull": false
				},
				"division_method": {
					"name": "division_method",
					"type": "division_method",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true
				},
				"participation_value": {
					"name": "participation_value",
					"type": "numeric(12, 4)",
					"primaryKey": false,
					"notNull": false
				},
				"apply_total_discount": {
					"name": "apply_total_discount",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": true
				},
				"calculated_sum": {
					"name": "calculated_sum",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"is_deleted": {
					"name": "is_deleted",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"deleted_at": {
					"name": "deleted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_split_item_participants_participant_id": {
					"name": "idx_split_item_participants_participant_id",
					"columns": [
						{
							"expression": "participant_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_item_participants_item_id": {
					"name": "idx_split_item_participants_item_id",
					"columns": [
						{
							"expression": "item_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_item_participants_active": {
					"name": "idx_split_item_participants_active",
					"columns": [
						{
							"expression": "participant_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "item_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "is_deleted",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"fk_split_item_participants_participant_id": {
					"name": "fk_split_item_participants_participant_id",
					"tableFrom": "split_item_participants",
					"tableTo": "split_participants",
					"columnsFrom": ["participant_id"],
					"columnsTo": ["id"],
					"onDelete": "restrict",
					"onUpdate": "no action"
				},
				"fk_split_item_participants_item_id": {
					"name": "fk_split_item_participants_item_id",
					"tableFrom": "split_item_participants",
					"tableTo": "split_items",
					"columnsFrom": ["item_id"],
					"columnsTo": ["id"],
					"onDelete": "restrict",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {
				"unique_participant_item": {
					"name": "unique_participant_item",
					"nullsNotDistinct": false,
					"columns": ["participant_id", "item_id"]
				}
			},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.split_items": {
			"name": "split_items",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"split_id": {
					"name": "split_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"type": {
					"name": "type",
					"type": "item_type",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true,
					"default": "'product'"
				},
				"name": {
					"name": "name",
					"type": "varchar(128)",
					"primaryKey": false,
					"notNull": true
				},
				"description": {
					"name": "description",
					"type": "varchar(2048)",
					"primaryKey": false,
					"notNull": false
				},
				"icon": {
					"name": "icon",
					"type": "varchar(64)",
					"primaryKey": false,
					"notNull": false
				},
				"note": {
					"name": "note",
					"type": "varchar(2048)",
					"primaryKey": false,
					"notNull": false
				},
				"image_url": {
					"name": "image_url",
					"type": "varchar(512)",
					"primaryKey": false,
					"notNull": false
				},
				"display_order": {
					"name": "display_order",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"default": 0
				},
				"price": {
					"name": "price",
					"type": "integer",
					"primaryKey": false,
					"notNull": true
				},
				"item_discount": {
					"name": "item_discount",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"default": "'0'"
				},
				"quantity": {
					"name": "quantity",
					"type": "numeric(8, 3)",
					"primaryKey": false,
					"notNull": false,
					"default": "'1'"
				},
				"unit": {
					"name": "unit",
					"type": "varchar(32)",
					"primaryKey": false,
					"notNull": false,
					"default": "'piece'"
				},
				"default_division_method": {
					"name": "default_division_method",
					"type": "division_method",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true,
					"default": "'equal'"
				},
				"is_deleted": {
					"name": "is_deleted",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"deleted_at": {
					"name": "deleted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_split_items_split_id": {
					"name": "idx_split_items_split_id",
					"columns": [
						{
							"expression": "split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_items_split_active": {
					"name": "idx_split_items_split_active",
					"columns": [
						{
							"expression": "split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "is_deleted",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_items_order": {
					"name": "idx_split_items_order",
					"columns": [
						{
							"expression": "split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "display_order",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "is_deleted",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_items_type": {
					"name": "idx_split_items_type",
					"columns": [
						{
							"expression": "split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "type",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "is_deleted",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"fk_split_items_split_id": {
					"name": "fk_split_items_split_id",
					"tableFrom": "split_items",
					"tableTo": "splits",
					"columnsFrom": ["split_id"],
					"columnsTo": ["id"],
					"onDelete": "restrict",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.split_participants": {
			"name": "split_participants",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"split_id": {
					"name": "split_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"user_id": {
					"name": "user_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": false
				},
				"display_name": {
					"name": "display_name",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": false
				},
				"anonymous": {
					"name": "anonymous",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"is_ready": {
					"name": "is_ready",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"has_paid": {
					"name": "has_paid",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"overridden_permissions": {
					"name": "overridden_permissions",
					"type": "jsonb",
					"primaryKey": false,
					"notNull": true,
					"default": "'{}'::jsonb"
				},
				"invited_by": {
					"name": "invited_by",
					"type": "uuid",
					"primaryKey": false,
					"notNull": false
				},
				"is_deleted": {
					"name": "is_deleted",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"deleted_at": {
					"name": "deleted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"joined_at": {
					"name": "joined_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_split_participants_split_id": {
					"name": "idx_split_participants_split_id",
					"columns": [
						{
							"expression": "split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_participants_user_id": {
					"name": "idx_split_participants_user_id",
					"columns": [
						{
							"expression": "user_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_participants_split_active": {
					"name": "idx_split_participants_split_active",
					"columns": [
						{
							"expression": "split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "is_deleted",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_participants_has_paid": {
					"name": "idx_split_participants_has_paid",
					"columns": [
						{
							"expression": "split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "has_paid",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "is_deleted",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_participants_is_ready": {
					"name": "idx_split_participants_is_ready",
					"columns": [
						{
							"expression": "split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "is_ready",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "is_deleted",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_splitparticipants_anonymous": {
					"name": "idx_splitparticipants_anonymous",
					"columns": [
						{
							"expression": "split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "anonymous",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"fk_split_participants_split_id": {
					"name": "fk_split_participants_split_id",
					"tableFrom": "split_participants",
					"tableTo": "splits",
					"columnsFrom": ["split_id"],
					"columnsTo": ["id"],
					"onDelete": "restrict",
					"onUpdate": "no action"
				},
				"fk_split_participants_user_id": {
					"name": "fk_split_participants_user_id",
					"tableFrom": "split_participants",
					"tableTo": "users",
					"columnsFrom": ["user_id"],
					"columnsTo": ["id"],
					"onDelete": "set null",
					"onUpdate": "no action"
				},
				"fk_split_participants_invited_by": {
					"name": "fk_split_participants_invited_by",
					"tableFrom": "split_participants",
					"tableTo": "users",
					"columnsFrom": ["invited_by"],
					"columnsTo": ["id"],
					"onDelete": "set null",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {
				"unique_split_user": {
					"name": "unique_split_user",
					"nullsNotDistinct": false,
					"columns": ["split_id", "user_id"]
				}
			},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.split_payment_methods": {
			"name": "split_payment_methods",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"split_id": {
					"name": "split_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"payment_method_id": {
					"name": "payment_method_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"comment": {
					"name": "comment",
					"type": "varchar(2048)",
					"primaryKey": false,
					"notNull": false
				},
				"is_preferred": {
					"name": "is_preferred",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"display_order": {
					"name": "display_order",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 0
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_split_payment_methods_split_id": {
					"name": "idx_split_payment_methods_split_id",
					"columns": [
						{
							"expression": "split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_payment_methods_preferred": {
					"name": "idx_split_payment_methods_preferred",
					"columns": [
						{
							"expression": "split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "is_preferred",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"fk_split_payment_methods_split_id": {
					"name": "fk_split_payment_methods_split_id",
					"tableFrom": "split_payment_methods",
					"tableTo": "splits",
					"columnsFrom": ["split_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				},
				"fk_split_payment_methods_payment_method_id": {
					"name": "fk_split_payment_methods_payment_method_id",
					"tableFrom": "split_payment_methods",
					"tableTo": "user_payment_methods",
					"columnsFrom": ["payment_method_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {
				"unique_split_payment_method": {
					"name": "unique_split_payment_method",
					"nullsNotDistinct": false,
					"columns": ["split_id", "payment_method_id"]
				}
			},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.split_payments": {
			"name": "split_payments",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"participant_id": {
					"name": "participant_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"amount": {
					"name": "amount",
					"type": "integer",
					"primaryKey": false,
					"notNull": true
				},
				"payment_method_id": {
					"name": "payment_method_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": false
				},
				"status": {
					"name": "status",
					"type": "payment_status",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true,
					"default": "'pending'"
				},
				"confirmed_at": {
					"name": "confirmed_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"note": {
					"name": "note",
					"type": "varchar(2048)",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_split_payments_participant_id": {
					"name": "idx_split_payments_participant_id",
					"columns": [
						{
							"expression": "participant_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_payments_status": {
					"name": "idx_split_payments_status",
					"columns": [
						{
							"expression": "status",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_payments_pending": {
					"name": "idx_split_payments_pending",
					"columns": [
						{
							"expression": "participant_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "status",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_payments_created_at": {
					"name": "idx_split_payments_created_at",
					"columns": [
						{
							"expression": "created_at",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_split_payments_old": {
					"name": "idx_split_payments_old",
					"columns": [
						{
							"expression": "created_at",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "status",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"fk_split_payments_participant_id": {
					"name": "fk_split_payments_participant_id",
					"tableFrom": "split_payments",
					"tableTo": "split_participants",
					"columnsFrom": ["participant_id"],
					"columnsTo": ["id"],
					"onDelete": "cascade",
					"onUpdate": "no action"
				},
				"fk_split_payments_payment_method_id": {
					"name": "fk_split_payments_payment_method_id",
					"tableFrom": "split_payments",
					"tableTo": "user_payment_methods",
					"columnsFrom": ["payment_method_id"],
					"columnsTo": ["id"],
					"onDelete": "set null",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.splits": {
			"name": "splits",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"parent_split_id": {
					"name": "parent_split_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": false
				},
				"owner_id": {
					"name": "owner_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"status": {
					"name": "status",
					"type": "split_status",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true,
					"default": "'draft'"
				},
				"phase": {
					"name": "phase",
					"type": "split_phase",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true,
					"default": "'setup'"
				},
				"name": {
					"name": "name",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": true
				},
				"icon": {
					"name": "icon",
					"type": "varchar(64)",
					"primaryKey": false,
					"notNull": false
				},
				"currency": {
					"name": "currency",
					"type": "varchar(3)",
					"primaryKey": false,
					"notNull": true,
					"default": "'RUB'"
				},
				"max_participants": {
					"name": "max_participants",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"expected_participants": {
					"name": "expected_participants",
					"type": "integer",
					"primaryKey": false,
					"notNull": false
				},
				"total_discount": {
					"name": "total_discount",
					"type": "integer",
					"primaryKey": false,
					"notNull": false,
					"default": 0
				},
				"total_discount_percent": {
					"name": "total_discount_percent",
					"type": "numeric(5, 2)",
					"primaryKey": false,
					"notNull": false,
					"default": "'0'"
				},
				"default_permissions": {
					"name": "default_permissions",
					"type": "jsonb",
					"primaryKey": false,
					"notNull": true,
					"default": "'{\"can_edit_items\":false,\"can_edit_split\":false,\"can_manage_members\":false}'::jsonb"
				},
				"payment_deadline": {
					"name": "payment_deadline",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"scheduled_at": {
					"name": "scheduled_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"completed_at": {
					"name": "completed_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"is_deleted": {
					"name": "is_deleted",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"deleted_at": {
					"name": "deleted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_splits_owner_id": {
					"name": "idx_splits_owner_id",
					"columns": [
						{
							"expression": "owner_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_splits_status": {
					"name": "idx_splits_status",
					"columns": [
						{
							"expression": "status",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_splits_phase": {
					"name": "idx_splits_phase",
					"columns": [
						{
							"expression": "phase",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_splits_owner_active": {
					"name": "idx_splits_owner_active",
					"columns": [
						{
							"expression": "owner_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "is_deleted",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_splits_parent_id": {
					"name": "idx_splits_parent_id",
					"columns": [
						{
							"expression": "parent_split_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_splits_payment_deadline": {
					"name": "idx_splits_payment_deadline",
					"columns": [
						{
							"expression": "payment_deadline",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_splits_updated_at": {
					"name": "idx_splits_updated_at",
					"columns": [
						{
							"expression": "updated_at",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"fk_splits_parent_split_id": {
					"name": "fk_splits_parent_split_id",
					"tableFrom": "splits",
					"tableTo": "splits",
					"columnsFrom": ["parent_split_id"],
					"columnsTo": ["id"],
					"onDelete": "set null",
					"onUpdate": "no action"
				},
				"fk_splits_owner_id": {
					"name": "fk_splits_owner_id",
					"tableFrom": "splits",
					"tableTo": "users",
					"columnsFrom": ["owner_id"],
					"columnsTo": ["id"],
					"onDelete": "restrict",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.user_payment_methods": {
			"name": "user_payment_methods",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"user_id": {
					"name": "user_id",
					"type": "uuid",
					"primaryKey": false,
					"notNull": true
				},
				"type": {
					"name": "type",
					"type": "payment_method_type",
					"typeSchema": "public",
					"primaryKey": false,
					"notNull": true
				},
				"display_name": {
					"name": "display_name",
					"type": "varchar(128)",
					"primaryKey": false,
					"notNull": false
				},
				"currency": {
					"name": "currency",
					"type": "varchar(3)",
					"primaryKey": false,
					"notNull": true,
					"default": "'RUB'"
				},
				"payment_data": {
					"name": "payment_data",
					"type": "jsonb",
					"primaryKey": false,
					"notNull": true
				},
				"is_temporary": {
					"name": "is_temporary",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"is_default": {
					"name": "is_default",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"display_order": {
					"name": "display_order",
					"type": "integer",
					"primaryKey": false,
					"notNull": true,
					"default": 0
				},
				"is_deleted": {
					"name": "is_deleted",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"deleted_at": {
					"name": "deleted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_user_payment_methods_user_id": {
					"name": "idx_user_payment_methods_user_id",
					"columns": [
						{
							"expression": "user_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_user_payment_methods_active": {
					"name": "idx_user_payment_methods_active",
					"columns": [
						{
							"expression": "user_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "is_deleted",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_user_payment_methods_default": {
					"name": "idx_user_payment_methods_default",
					"columns": [
						{
							"expression": "user_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "is_default",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_user_payment_methods_temporary": {
					"name": "idx_user_payment_methods_temporary",
					"columns": [
						{
							"expression": "is_temporary",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "created_at",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {
				"fk_user_payment_methods_user_id": {
					"name": "fk_user_payment_methods_user_id",
					"tableFrom": "user_payment_methods",
					"tableTo": "users",
					"columnsFrom": ["user_id"],
					"columnsTo": ["id"],
					"onDelete": "restrict",
					"onUpdate": "no action"
				}
			},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		},
		"public.users": {
			"name": "users",
			"schema": "",
			"columns": {
				"id": {
					"name": "id",
					"type": "uuid",
					"primaryKey": true,
					"notNull": true,
					"default": "gen_random_uuid()"
				},
				"telegram_id": {
					"name": "telegram_id",
					"type": "bigint",
					"primaryKey": false,
					"notNull": false
				},
				"username": {
					"name": "username",
					"type": "varchar(100)",
					"primaryKey": false,
					"notNull": false
				},
				"display_name": {
					"name": "display_name",
					"type": "varchar(255)",
					"primaryKey": false,
					"notNull": true
				},
				"avatar_url": {
					"name": "avatar_url",
					"type": "varchar(512)",
					"primaryKey": false,
					"notNull": false
				},
				"preferences": {
					"name": "preferences",
					"type": "jsonb",
					"primaryKey": false,
					"notNull": true,
					"default": "'{}'"
				},
				"last_synced_at": {
					"name": "last_synced_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"last_seen_at": {
					"name": "last_seen_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"is_deleted": {
					"name": "is_deleted",
					"type": "boolean",
					"primaryKey": false,
					"notNull": true,
					"default": false
				},
				"deleted_at": {
					"name": "deleted_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": false
				},
				"created_at": {
					"name": "created_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				},
				"updated_at": {
					"name": "updated_at",
					"type": "timestamp with time zone",
					"primaryKey": false,
					"notNull": true,
					"default": "now()"
				}
			},
			"indexes": {
				"idx_users_username": {
					"name": "idx_users_username",
					"columns": [
						{
							"expression": "username",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_users_display_name": {
					"name": "idx_users_display_name",
					"columns": [
						{
							"expression": "display_name",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_users_last_seen_at": {
					"name": "idx_users_last_seen_at",
					"columns": [
						{
							"expression": "last_seen_at",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_users_active": {
					"name": "idx_users_active",
					"columns": [
						{
							"expression": "is_deleted",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				},
				"idx_users_telegram_active": {
					"name": "idx_users_telegram_active",
					"columns": [
						{
							"expression": "telegram_id",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						},
						{
							"expression": "is_deleted",
							"isExpression": false,
							"asc": true,
							"nulls": "last"
						}
					],
					"isUnique": false,
					"concurrently": false,
					"method": "btree",
					"with": {}
				}
			},
			"foreignKeys": {},
			"compositePrimaryKeys": {},
			"uniqueConstraints": {
				"unique_telegram_id": {
					"name": "unique_telegram_id",
					"nullsNotDistinct": false,
					"columns": ["telegram_id"]
				},
				"unique_username": {
					"name": "unique_username",
					"nullsNotDistinct": false,
					"columns": ["username"]
				}
			},
			"policies": {},
			"checkConstraints": {},
			"isRLSEnabled": false
		}
	},
	"enums": {
		"public.division_method": {
			"name": "division_method",
			"schema": "public",
			"values": ["equal", "shares", "fixed", "proportional", "custom"]
		},
		"public.item_type": {
			"name": "item_type",
			"schema": "public",
			"values": ["product", "tip", "delivery", "service_fee", "tax"]
		},
		"public.payment_method_type": {
			"name": "payment_method_type",
			"schema": "public",
			"values": ["sbp", "card", "phone", "bank_transfer", "cash", "crypto", "custom"]
		},
		"public.payment_status": {
			"name": "payment_status",
			"schema": "public",
			"values": ["pending", "confirmed", "disputed"]
		},
		"public.split_phase": {
			"name": "split_phase",
			"schema": "public",
			"values": ["setup", "voting", "payment", "confirming"]
		},
		"public.split_status": {
			"name": "split_status",
			"schema": "public",
			"values": ["draft", "active", "completed"]
		}
	},
	"schemas": {},
	"sequences": {},
	"roles": {},
	"policies": {},
	"views": {},
	"_meta": {
		"columns": {},
		"schemas": {},
		"tables": {}
	}
}
